> 每次把todos转成提案后都清空todos

## Bugs
- [ ] build后mac上安装后打开报错，感觉也是db解析出的问题，当我没有提供环境变量和创建好的db时，感觉会报错
- [ ] 异步生成缩略图后图片会加载失败，生成完成后也不会自动刷新缩略图，页面整体刷新后恢复，我希望在缩略图生成时展示loading，每张图生成完以后精准更新展示，顺便给所有缩略图都加上loading动画吧
- [ ] thumbnail生成的loading弹窗在loading结束后不会自动消失
- [x] 图片预览图片加载失败，感觉是资源url不对，这里是不是应该注册一个新的asset url来获取原图，然后右侧文字在深色模式下显示不正确
- [ ] AI Tagging在导入时还是没有正常工作
- [ ] 许多文字在深色模式下显示都有问题，整个应用没有做好深色模式适配，这个后面提一个spec来改

## Round1 迭代方向
- [ ] 多线程异步创建缩略图，不要阻塞流程
- [x] 优化交互，非阻塞性通知不要调用系统的modal，而是使用web内modal或者自定义窗口展示，减少阻塞性
- [ ] 导入时看不到进度
- [ ] 我已经导入了tagger模型，实现它，注意它和导入视频的进度要分开来
- [ ] 之前我在spec中增加了启动时自动补全缺失的缩略图的功能但是没有记录，请你补全这个记录
- [ ] 希望可以点开看大图
- [ ] 现在也没有实现手动打标签的功能，希望可以选中图片/批量选中图片打标签，也可以在导入时就批量打上标签

## Round2 迭代方向
- [ ] 使用shadcn cli初始化组件库，然后将所有现有的组件重构到shadcn上，放在ui的spec里
- [ ] grid引入虚拟滚动，提高长列表dom滚动效率，同时把列表也改成无限加载列表，减少内存占用，作为一个spec
- [ ] task loading的展示可以优化下 可以放在顶栏一个固定位置 点击展开，整个pending tasks系统作为一个spec
- [ ] 禁用一些原生web的操作，比如右键菜单、选中、拖拽等，设计专用的右键菜单，作为单独的spec
- [ ] 大图查看器支持放大、拖拽等操作，保留现在的快捷键操作，也作为单独的spec

## Round3 迭代方向
- [ ] 进一步拆分specs：
  - [ ] 后台逻辑拆分
    - [ ] 文件管理从database拆分出来
    - [ ] 事件系统要分离出来
    - [ ] 标签管理也要分离出来
    - [ ] ai系统也可以按不同模型和功能的实现去拆分
  - [ ] ui里的功能也要进一步拆分
- [ ] 每个缩略图都有loading、error、normal三种状态
  - loading：导入时或重新生成时
  - error：图片加载失败，可能是被删除或图片本身被移动
  - normal：正常展示

## Futer
- [ ] cicd github action 自动发布所有平台的可执行文件
- [ ] 支持多种来源数据 包括WebDAV、SMB、zip导入（包括密码管理）等二次元和写真管理常用功能
- [ ] nsfw模式，开启式当标签中含有nsfw时，图片自动模糊处理
- [ ] 完善仓库文档，包括AGENTS.md和README.md还有project.md，特别是在README中教会人如何使用AI开发（以OpenSpec+Claude code 为例）
- [ ] i18n与中文支持